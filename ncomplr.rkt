#lang racket

;;;; Stuff specific to NCOMPLR

(provide specials)

(define specials
  '(("ACSMODE")
    ("ARGLOC")
    ("ARGNO")
    ("ARITHP")
    ("ARRAYOPEN")
    ("ASSEMBLE")
    ("ATPL")
    ("ATPL1")
    ("BVARS")
    ("CAAGL")
    ("CARCDR")
    ("CCLOAD:INITIAL-PROPS")
    ("CDMACSVERNO")
    ("CDUMP")
    ("CFVFL")
    ("CHOMPHOOK")
    ("CL")
    ("CLEANUPSPL")
    ("CLOSED")
    ("CLPROGN")
    ("CMSGFILES")
    ("CNT")
    ("COBARRAY")
    ("COMAL")
    ("COMAUXVERNO")
    ("COMP")
    ("COMPILATION-FLAGCONVERSION-TABLE")
    ("COMPILER-STAT")
    ("COMPLRVERNO")
    ("CONDP")
    ("CONDPNOB")
    ("CONDTYPE")
    ("CONDUNSF")
    ("CREADTABLE")
    ("CTAG")
    ("DAT")
    ("DISOWNED")
    ("EFFS")
    ("EOC-EVAL")
    ("EOF-COMPILE-QUEUE")
    ("EOF-SEEN")
    ("ERRFL")
    ("EXIT")
    ("EXIT")
    ("EXLDL")
    ("EXPAND-OUT-MACROS")
    ("EXPR-HASH")
    ("EXTEND-FILES-TO-LOAD")
    ("FASL")
    ("FASLPUSH")
    ("FBARP")
    ("FILEPOSIBLE")
    ("FILESCLOSEP")
    ("FIXSW")
    ("FLOSW")
    ("FLPDL")
    ("FXPDL")
    ("GAG-ERRBREAKS")
    ("GENPREFIX")
    ("GFYC")
    ("GL")
    ("GOBRKL")
    ("GOFOO")
    ("GONE2")
    ("HLAC")
    ("HUNK2-TO-CONS")
    ("IDENTITY")
    ("IGNOREVARS")
    ("IMOSAR")
    ("INFILE")
    ("INITIALIZE")
    ("INITIAVERNO")
    ("INMLS")
    ("INSTACK")
    ("IOBARRAY")
    ("IREADTABLE")
    ("KTYPE")
    ("L-END-CNT")
    ("LAP-INSIGNIF")
    ("LAPLL")
    ("LAPOF")
    ("LDLST")
    ("LERSTP+1")
    ("LINEL")
    ("LINEMODEP")
    ("LMBP")
    ("LOCVARS")
    ("LOUT")
    ("LOUT1")
    ("LPASST-FXP")
    ("LPASST-P+1")
    ("LPRSL")
    ("MACROLIST")
    ("MACROS")
    ("MAKLAP-DEFAULTF-STYLE")
    ("MAKLAPVERNO")
    ("MAKUNBOUND")
    ("MAPEX")
    ("MAPSB")
    ("MCX-TRACE")
    ("MODELIST")
    ("MSDEV")
    ("MSDIR")
    ("MUZZLED")
    ("NEW-EXTEND-FILES-TO-LOAD")
    ("NLNVS")
    ("NLNVTHTBP")
    ("NOLAP")
    ("NULFU")
    ("NUMACS")
    ("OLVRL")
    ("ONMLS")
    ("OPSYS")
    ("OPVR")
    ("OUTFILES")
    ("P1CCX")
    ("P1CSQ")
    ("P1GFY")
    ("P1LL")
    ("P1LLCEK")
    ("P1LSQ")
    ("P1PCX")
    ("P1PS")
    ("P1SPECIALIZEDVS")
    ("P2P")
    ("PHAS1VERNO")
    ("PKTYP")
    ("PNOB")
    ("PRATTSTACK")
    ("PROGN")
    ("PROG")
    ("PROGTYPE")
    ("PROGUNSF")
    ("PRSSL")
    ("PVR")
    ("PVRL")
    ("QSM")
    ("QUIT-ON-ERROR")
    ("READ")
    ("RECOMPL")
    ("REGAC")
    ("REGPDL")
    ("RNL")
    ("ROSENCEK")
    ("RUNTIME-LIMIT")
    ("RUNTIME-LIMITP")
    ("SAIL-MORE-SYSFUNS")
    ("SAVED-ERRLIST")
    ("SFLG")
    ("SLOTX")
    ("SOBARRA")
    ("SPECIAL")
    ("SPECIALS")
    ("SPECVARS")
    ("SPLDLST")
    ("SPLITFILE-HOOK")
    ("SQUID")
    ("SREADTABLE")
    ("STAT")
    ("STSL")
    ("SWITCHLIST")
    ("SWITCHTABLE")
    ("SYMBOLS")
    ("TAKENAC1")
    ("TOPFN")
    ("TTYNOTES")
    ("TYO")
    ("UNDFUN")
    ("UNFASLCOMMENTS")
    ("UNSFLST")
    ("UREAD")
    ("USE-STRT7")
    ("USERATOMS-HOOKS")
    ("USERATOMS-INTERN")
    ("USERATOMS-INTERN-FROB")
    ("USER-STRING-MARK-IN-FASL")
    ("UWRITE")
    ("VGO")
    ("VGOL")
    ("VL")
    ("YESWARNTTY")))

;; Macros are paired with a function that tells how to interpret the nth
;; argument (#t means evaluated).

(define ncomplr-macros
  (let ([second-argument-unevaluated (Î» (n)
                                       (if (= n 1)
                                           #f
                                           #t))])
    `(("BARF" . ,second-argument-unevaluated)
      ("DBARF" . ,second-argument-unevaluated)
      ("WARN" . ,second-argument-unevaluated)
      ("PDERR" . ,second-argument-unevaluated))))